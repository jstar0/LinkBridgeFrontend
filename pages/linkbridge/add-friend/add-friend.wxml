<view class="lb-page">
  <t-navbar title="添加好友" left-arrow bind:go-back="onGoBack" />

  <view class="lb-page__content">
    <view wx:if="{{loading}}" class="lb-add-friend__loading">
      <t-loading theme="circular" size="40rpx" />
      <text class="lb-add-friend__loading-text">处理中...</text>
    </view>

    <view wx:elif="{{success}}" class="lb-add-friend__result">
      <text class="lb-add-friend__title">好友申请已发送</text>
      <text class="lb-add-friend__desc" wx:if="{{peerName}}">已向 {{peerName}} 发送申请</text>
      <t-button theme="primary" bind:tap="onTapGoFriends" style="margin-top: 24rpx;">去好友页查看</t-button>
    </view>

    <view wx:elif="{{errorMessage}}" class="lb-add-friend__result">
      <text class="lb-add-friend__title">添加失败</text>
      <text class="lb-add-friend__desc">{{errorMessage}}</text>
      <t-button theme="primary" variant="outline" bind:tap="onTapRetry" style="margin-top: 24rpx;">重试</t-button>
    </view>

    <t-empty wx:else description="请通过扫码进入此页面" />
  </view>
</view>

