<view class="lb-page">
  <t-navbar title="我的" />

  <view class="lb-page__content">
    <view class="lb-settings__profile">
      <view class="lb-settings__avatar-section">
        <t-avatar icon="user" size="120rpx" shape="round" />
      </view>

      <t-cell-group bordered="{{false}}" class="lb-settings__info">
      <t-cell title="用户名" description="@{{currentUser.username || '...'}}" />
      <t-cell
        title="显示名称"
        description="{{currentUser.displayName || '...'}}"
        arrow
        hover
        bind:tap="onTapEditDisplayName"
      />
      <t-cell title="用户ID" description="{{currentUser.id || '...'}}" />
      <t-cell title="好友" description="好友列表与申请" arrow hover bind:tap="onTapFriends" />
    </t-cell-group>
  </view>

    <view class="lb-settings__actions">
      <t-button theme="danger" variant="outline" block bind:tap="onTapLogout">
        退出登录
      </t-button>
    </view>
  </view>

  <t-dialog
    visible="{{isEditDialogVisible}}"
    title="修改显示名称"
    confirm-btn="保存"
    cancel-btn="取消"
    bind:confirm="onConfirmEditDisplayName"
    bind:visible-change="onEditDialogVisibleChange"
  >
    <t-input
      slot="content"
      placeholder="请输入显示名称"
      value="{{editDisplayName}}"
      bind:change="onEditDisplayNameChange"
      maxlength="{{20}}"
    />
  </t-dialog>

  <linkbridge-tabbar value="settings" />
</view>
